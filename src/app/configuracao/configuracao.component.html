<style>
  input {
    box-shadow: rgba(0, 0, 0, 0.432) 0px 0px 0px 1px;
  }

  label {
    margin-top: 1%;
  }
</style>
<div class="h-100 w-100 container d-flex flex-column justify-content-start">
  <h1 class="fs-4 mt-3 text-uppercase border-bottom p-1">Configurações</h1>

  <p class="mt-3 fs-6">Aqui você pode alterar as configurações do usuário</p>

  <h5 class="border-bottom my-2 fs-5 p-1">
    Formulário para a atualização de informações do usuário:
  </h5>

  <app-modal *ngIf="this.modalMessage.display" [modalVisible]="this.loadingModal.visibility"
    [showFooter]="this.modalMessage.showFooter" [canClose]="this.modalMessage.canClose"
    [title]="this.modalMessage.title" [description]="this.modalMessage.description"
    [loading]="this.modalMessage.loadingIcon" (modalVisibleEvent)="visibilityModal($event)"></app-modal>

  <app-modal *ngIf="this.loadingModal.display" [modalVisible]="!this.loadingModal.visibility"
    [showFooter]="this.loadingModal.showFooter" [canClose]="this.loadingModal.canClose"
    [title]="this.loadingModal.title" [description]="this.loadingModal.description"
    [loading]="this.loadingModal.loadingIcon"></app-modal>

  <form (ngSubmit)="this.submitForm()" [formGroup]="this.configuracaoForm"
    class="p-2 w-100 d-flex flex-row flex-wrap mt-3">
    <label for="nomeUsuario" class="w-100 p-2 shadow-sm rounded border">
      <p class="fs-6 m-0 p-0 ms-1">Trocar nome de usuário</p>
      <input type="text" id="nomeUsuario" formControlName="nomeUsuario" class="border rounded p-2 w-100"
        placeholder="nome de usuário" />
      <div *ngIf="
          this.configuracaoForm.get('nomeUsuario') &&
          (this.configuracaoForm.get('nomeUsuario')?.dirty ||
            this.configuracaoForm.get('nomeUsuario')?.touched)
        " class="fs-6 text-danger">
        <div *ngIf="this.configuracaoForm.get('nomeUsuario')?.errors?.['minLength']">
          Você precisa preencher o campo nome de usuário.
        </div>
      </div>
    </label>
    <label for="emailUsuario" class="w-100 p-2 shadow-sm rounded border">
      <p class="fs-6 m-0 p-0 ms-1">Trocar e-mail</p>
      <input type="email" id="emailUsuario" formControlName="emailUsuario" class="border rounded p-2 w-100"
        placeholder="E-mail" />
      <div *ngIf="
          this.configuracaoForm.get('emailUsuario') &&
          (this.configuracaoForm.get('emailUsuario')?.dirty ||
            this.configuracaoForm.get('emailUsuario')?.touched)
        " class="fs-6 text-danger">
        <div *ngIf="this.configuracaoForm.get('emailUsuario')?.errors?.['email']">
          Você precisa preencher o campo de e-mail.
        </div>
      </div>
    </label>
    <div class=" col-12 d-flex flex-row flex-wrap mt-2 mb-1">
      <p class="fs-6 m-0 p-0 ms-1 fw-bold col-12">Trocar senha</p>
      <p class="fs-6 m-0 p-0 ms-1">Para trocar a senha, digite a senha antiga antes. E se confirmado, o campo será
        trocado para a nova senha.</p>

      <label for="senhaUsuario" class="w-100 p-2 shadow-sm rounded border">
        <p class="fs-6 m-0 p-0 ms-1">Senha atual</p>
        <input type="password" id="senhaUsuario" formControlName="actualPassword" class="border rounded p-2 w-100"
          placeholder="Senha" />
        <div class="fs-6 text-danger" *ngIf="this.configuracaoForm.get('actualPassword')?.value !== 
        this.configuracaoForm.get('confirmActualPassword')?.value && 
        this.configuracaoForm.get('confirmActualPassword')?.value.length > 0 ">
          A senha de usuário e de confirmação precisam ser iguais.
        </div>
        <div class=" my-1" *ngIf="this.configuracaoForm.get('actualPassword')?.value.length > 0">
          <p class="fs-6 m-0 p-0 ms-1">Confirmar senha</p>
          <input (blur)="confirmarSenha()" formControlName="confirmActualPassword" type="password"
            id="confirmarSenhaUsuario" class="border rounded p-2 w-100" placeholder="Confirmar senha" />
        </div>
      </label>



    </div>
    <div class="col-12 d-flex justify-content-end">
      <input type="submit" value="Trocar informações" class="col-4 btn btn-outline-danger m-4" />
    </div>

  </form>

</div>